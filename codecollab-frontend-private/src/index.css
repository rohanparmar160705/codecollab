@import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 47.4% 11.2%;
    
    --card: 0 0% 100%;
    --card-foreground: 222.2 47.4% 11.2%;
    
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 47.4% 11.2%;
    
    --primary: 221.2 83.2% 53.3%;
    --primary-foreground: 210 40% 98%;
    
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 221.2 83.2% 53.3%;
    
    --radius: 6px;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Inter', sans-serif;
  }
  code, pre {
    font-family: 'JetBrains Mono', monospace;
  }
}

@layer components {
  .surface-elevated {
    @apply bg-secondary/50 border border-border;
  }
  
  .btn-primary {
    @apply bg-primary text-primary-foreground font-medium rounded-[6px] px-4 py-2 transition-colors hover:bg-primary/90 active:scale-[0.98];
  }

  .btn-outline {
    @apply border border-border bg-transparent text-foreground font-medium rounded-[6px] px-4 py-2 transition-colors hover:bg-secondary;
  }

  .btn-ghost {
    @apply bg-transparent text-muted-foreground font-medium rounded-[6px] px-4 py-2 transition-colors hover:bg-secondary hover:text-foreground;
  }
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
::-webkit-scrollbar-track {
  @apply bg-transparent;
}
::-webkit-scrollbar-thumb {
  @apply bg-muted rounded-full border-2 border-background;
}
::-webkit-scrollbar-thumb:hover {
  @apply bg-muted-foreground/20;
}

.theme-transition {
  transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
}

/* Monaco overrides */
.monaco-editor, .monaco-editor .margin, .monaco-editor-background {
  background-color: transparent !important;
}

.monaco-editor .cursor {
  background-color: hsl(var(--primary)) !important;
  border-color: hsl(var(--primary)) !important;
}

.monaco-editor .line-numbers.active-line-number {
  color: hsl(var(--foreground)) !important;
}

/* Layout Rails */
.nav-rail {
  @apply w-16 border-r border-border bg-card flex flex-col items-center py-4 gap-4;
}

/* Yjs Collaborative Cursors & Selections */
.yRemoteSelection {
  background-color: rgba(100, 150, 255, 0.3);
}

.yRemoteSelectionHead {
  position: absolute;
  border-left: #4285f4 solid 2px;
  border-top: #4285f4 solid 2px;
  border-bottom: #4285f4 solid 2px;
  height: 100%;
  box-sizing: border-box;
}

.yRemoteSelectionHead::after {
  position: absolute;
  content: " ";
  border: 4px solid #4285f4;
  border-radius: 2px;
  left: -4px;
  top: -5px;
}

/* Hovering names for remote cursors */
.yRemoteSelectionHead .yRemoteSelectionName {
  position: absolute;
  top: -18px;
  left: -2px;
  font-size: 10px;
  font-family: inherit;
  font-weight: 700;
  line-height: normal;
  user-select: none;
  background-color: #4285f4;
  color: white;
  padding: 1px 4px;
  border-radius: 2px;
  white-space: nowrap;
  pointer-events: none;
  z-index: 100;
  box-shadow: 0 1px 4px rgba(0,0,0,0.2);
}
